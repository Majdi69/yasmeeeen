
{% extends 'frontrec.html.twig' %}
{% block body %}

<div class="container">
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <center>

        <input class="col-10" type="text" name="AfficherClasse" onkeyup="myFunction()" placeholder="Recherche" id="myInput">
        <h1> Liste des Reclamations</h1>

        <table class="table" id="table">
            <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">nom </th>
                <th scope="col">description </th>
                <th scope="col">date </th>
                <th scope="col">mail </th>
                <th scope="col"> </th>
                <th scope="col"> </th>

            </tr>
            </thead>
            <tbody>
            {%  for a in  b %}

                <tr>
                    <td>{{a.id}}</td>
                    <td>{{ a.nom }}</td>
                    <td>{{ a.description }}</td>
                    <td>{{ a.date|date('d-m-Y') }}</td>
                    <td>{{ a.mail }}</td>

                    <td>  <a class="btn btn-sm btn-success" href="{{ path('modifierrec', {id:a.id})}}">Modifier</a></td>

                    <td>  <a class="btn btn-sm btn-danger" href="{{ path('supprec', {id:a.id}) }}">Supprimer</a></td>





                </tr>

            {%  endfor %}
            <span class="badge badge-sm bg-gradient-faded-success-vertical">  {{ knp_pagination_render(b) }} </span>

            </tbody>
        </table>

        <form action="{{ path('addrecl') }}">
            <button class="btn btn-round btn-facebook">Ajouter</button>
        </form>


    </center>

</div>
    <script>


        function myFunction() {
            var input, filter, table, tr, td, i,j, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("table");
            tr = table.getElementsByTagName("tr");
//   alert(td.length);
            for (i = 0; i < tr.length; i++) {
                td= tr[i].getElementsByTagName("td")[2];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }


    </script>
{% endblock %}

